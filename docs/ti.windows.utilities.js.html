<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ti.windows.utilities.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ti.windows.utilities.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/***
 * @file Set of utilities that might be useful in Windows development with Hyperloop and Titanium
 * @module ti.windows.utilities
 * @author Ewan Harris &lt;ewanharris93@gmail.com>
 * @requires Hyperloop
 * @version 1.0.0
 * @since 1.0.0
 */
const OS_NAME = Ti.Platform.osname;
const windowsValues = ['windowsstore', 'windowsphone', 'windows'];
const AnalyticsInfo = require('Windows.System.Profile.AnalyticsInfo');
const ApiInformation = require('Windows.Foundation.Metadata.ApiInformation');
const SystemMath = require('System.Convert')
// We will cache results to make any repeated calls quicker
var deviceFamily;
var apiContractInfo = {};
var typeInfo = {};


/**
 * Returns the Windows 10 device family.
 * @return {string} The device family being run on. Either Mobile, Desktop or Other
 */
exports.getDeviceFamily = function() {
	if (windowsValues.indexOf(OS_NAME) >= 0)  {
		if (!deviceFamily) {
			switch(AnalyticsInfo.VersionInfo.DeviceFamily) {
				case 'Windows.Mobile':
					deviceFamily = 'Mobile';
					return deviceFamily;
				case 'Windows.Desktop':
					deviceFamily = 'Desktop';
					return deviceFamily;
				case 'default':
					deviceFamily = 'Other';
					return deviceFamily;
			}
		} else {
			return deviceFamily;
		}
	} else {
		Ti.API.error(OS_NAME + ' probably wont find any value in this module');
	}
}


/**
 * Query whether an API contract is supported on the running OS
 * @param  {string}  contractName The contract name to query for
 * @param  {number}  [majorVer]     Major version number of the API contract
 * @param  {number}  [minorVer]     Minor version number of the API contract
 * @return {Boolean}              Whether the API contract is supported on the running OS
 */
exports.isApiContractPresent = function(contractName, majorVer, minorVer) {
	if (!apiContractInfo[contractName]) {
		var result;
		if (minorVer) {
			result = ApiInformation.IsApiContractPresent(contractName, majorVer, minorVer);
		} else if (majorVer) {
			result = ApiInformation.IsApiContractPresent(contractName, majorVer);
		}
		apiContractInfo[contractName] = result;
		return result;
	} else {
		return apiContractInfo[contractName];
	}
}

/**
 * Query whether a type is supported on the running OS
 * @param  {string}  typeName The type to query for
 * @return {Boolean}          Whether the type is supported on the running OS
 */
exports.isTypePresent = function(typeName) {
	if (!typeInfo[typeName]) {
		return typeInfo[typeName] = ApiInformation.IsTypePresent(typeName);
	} else {
		return typeInfo[typeName];
	}
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getDeviceFamily">getDeviceFamily</a></li><li><a href="global.html#isApiContractPresent">isApiContractPresent</a></li><li><a href="global.html#isTypePresent">isTypePresent</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.3</a> on Tue Jul 25 2017 23:50:21 GMT+0100 (GMT Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
